import{u as g,c as C,a as y}from"./index.esm.9ad0c25f.js";import{g as x,u as v,r as f,a as F,Q as h,j as a,R as p,b as o,C as n,F as s,c as N,B as S}from"./index.0caedde8.js";const B=()=>{var i,l,d;const r=x();v(`/user/list/${r==null?void 0:r.sub}`);const[j,c]=f.exports.useState(!1),e=g({initialValues:{nome:""},validationSchema:C({nome:y().required("Este campo \xE9 obrigat\xF3rio")}),onSubmit:async b=>{var m,u;try{c(!0),await F.post("/category/post",b)&&(h.success("Categoria cadastrado com sucesso"),e.resetForm())}catch(t){h.error((u=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:u.message)}finally{setTimeout(()=>{c(!1)},4e3)}}});return a(p,{children:o(n,{children:[a(n.Header,{className:"d-flex justify-content-between",children:a("div",{className:"header-title",children:a("h4",{className:"card-title",children:" Cadastrar Categoria"})})}),a(n.Body,{children:o(s,{onSubmit:e.handleSubmit,encType:"multipart/form-data",children:[a(p,{children:o(N,{md:"6",className:"mb-3",children:[a(s.Label,{md:"6",htmlFor:"validationDefault01",children:"Nome do Categoria"}),a(s.Control,{type:"text",id:"nome",name:"nome",value:e.values.nome,onChange:e.handleChange,required:!0}),((i=e==null?void 0:e.touched)==null?void 0:i.nome)&&((l=e==null?void 0:e.errors)==null?void 0:l.nome)?a("label",{className:"mt-1 text-danger",children:(d=e==null?void 0:e.errors)==null?void 0:d.nome}):null]})}),a(s.Group,{children:a(S,{variant:"btn btn-primary",type:"submit",children:"Cadastrar"})})]})})]})})};export{B as default};
