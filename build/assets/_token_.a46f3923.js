import{r as h,H as p,J as v,P as b,G as f,a as N,Q as d,j as e,b as n,R as o,c as t,L as y,O as x,C as g,F as i,B as w,I as _}from"./index.0caedde8.js";import{a as k}from"./ben-white-83tkHLPgg2Q-unsplash.9d7fce87.js";import{u as F,c as S,a as j}from"./index.esm.9ad0c25f.js";const C=h.exports.memo(()=>{p(v);const{token:l}=b(),u=f();console.log(l);const s=F({initialValues:{nova_senha:"",resetToken:l},validationSchema:S({nova_senha:j().trim().min(8,"A senha deve conter pelo menos oito caracteres").required("A senha \xE9 obrigat\xF3ria")}),onSubmit:async r=>{var c,m;try{const a=await(await N.patch(`/auth/reset_password/${r==null?void 0:r.resetToken}`,r)).data;a&&(s.resetForm(),d.success(a==null?void 0:a.message),u("/auth/sign-in"))}catch(a){d((m=(c=a==null?void 0:a.response)==null?void 0:c.data)==null?void 0:m.message)}}});return e(h.exports.Fragment,{children:e("section",{className:"login-content",children:n(o,{className:"m-0 align-items-center bg-white vh-100",children:[n(t,{md:"12",lg:"6",className:"align-self-center",children:[e(y,{to:"/",className:"navbar-brand d-flex align-items-center mb-3 justify-content-center text-primary",children:e("div",{className:"logo-normal",children:e("img",{style:{width:"50%"},src:x})})}),e(o,{className:"justify-content-center pt-5",children:e(t,{lg:"8",children:e(g,{className:"d-flex justify-content-center mb-0",children:n(g.Body,{children:[e("h2",{className:"mb-2",children:"Recuperar senha"}),n("form",{onSubmit:s.handleSubmit,children:[e(o,{children:e(t,{lg:"12",children:n(i.Group,{className:"floating-label form-group",children:[e(i.Label,{htmlFor:"Senha",className:"",children:"Nova Senha"}),e(i.Control,{type:"password",className:"",onChange:s.handleChange,name:"nova_senha",id:"nova_senha",value:s.values.nova_senha,"aria-describedby":"senha",placeholder:" "}),s.touched.nova_senha&&s.errors.nova_senha?e("span",{className:"text-danger",children:s.errors.nova_senha}):null]})})}),e(w,{type:"submit",variant:"btn btn-primary",children:"Resetar"})]})]})})})})]}),e(t,{md:"6",className:"d-md-block d-none bg-primary p-0 mt-n1  overflow-hidden",style:{height:"100vh"},children:e(_,{src:k,className:"Image-fluid gradient-main",alt:"images"})})]})})})});C.displayName="ResetPassword";export{C as default};
