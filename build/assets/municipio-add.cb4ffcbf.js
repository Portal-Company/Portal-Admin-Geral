import{u as F,c as N,a as x}from"./index.esm.9ad0c25f.js";import{g as S,u as C,r as j,a as q,Q as y,j as a,R as I,b as t,C as d,F as n,c as E,B as w}from"./index.0caedde8.js";const $=()=>{var l,u,h,p,m,v;const o=S();C(`/user/list/${o==null?void 0:o.sub}`);const{data:c}=C("/province/list"),[A,i]=j.exports.useState(!1),e=F({initialValues:{nome:"",provinciaId:""},validationSchema:N({nome:x().required("Este campo \xE9 obrigat\xF3rio"),provinciaId:x().required("Este campo \xE9 obrigat\xF3rio")}),onSubmit:async r=>{var b,g;try{i(!0),await q.post("/county/post",r)&&(y.success("Municipio cadastrado com sucesso"),e.resetForm())}catch(s){y.error((g=(b=s==null?void 0:s.response)==null?void 0:b.data)==null?void 0:g.message)}finally{setTimeout(()=>{i(!1)},4e3)}}});return a(I,{children:t(d,{children:[a(d.Header,{className:"d-flex justify-content-between",children:a("div",{className:"header-title",children:a("h4",{className:"card-title",children:" Cadastrar Municipio"})})}),a(d.Body,{children:t(n,{onSubmit:e.handleSubmit,encType:"multipart/form-data",children:[a(I,{children:t(E,{md:"6",className:"mb-3",children:[a(n.Label,{md:"6",htmlFor:"validationDefault01",children:"Nome do Municipio"}),a(n.Control,{type:"text",id:"nome",name:"nome",value:e.values.nome,onChange:e.handleChange,required:!0}),((l=e==null?void 0:e.touched)==null?void 0:l.nome)&&((u=e==null?void 0:e.errors)==null?void 0:u.nome)?a("label",{className:"mt-1 text-danger",children:(h=e==null?void 0:e.errors)==null?void 0:h.nome}):null,t(n.Select,{id:"provinciaId",name:"provinciaId",className:"mt-3",required:!0,onChange:e.handleChange,children:[a("option",{defaultChecked:!0,children:"Selecione uma Provincia"}),c==null?void 0:c.map(r=>a("option",{value:r==null?void 0:r.id,children:r==null?void 0:r.nome},r==null?void 0:r.id))]}),((p=e==null?void 0:e.touched)==null?void 0:p.provinciaId)&&((m=e==null?void 0:e.errors)==null?void 0:m.provinciaId)?a("label",{className:"mt-1 text-danger",children:(v=e==null?void 0:e.errors)==null?void 0:v.provinciaId}):null]})}),a(n.Group,{children:a(w,{variant:"btn btn-primary",type:"submit",children:"Cadastrar"})})]})})]})})};export{$ as default};
