import{r as i,H as x,J as C,G as w,a as k,S as v,Q as h,g as S,j as e,b as r,R as c,c as n,L as u,O as E,C as p,F as s,B as I,I as j}from"./index.0caedde8.js";import{a as F}from"./ben-white-83tkHLPgg2Q-unsplash.9d7fce87.js";import{u as L,c as R,a as g}from"./index.esm.9ad0c25f.js";const G=i.exports.memo(()=>{x(C);const[b,o]=i.exports.useState(!1);let f=w();const a=L({initialValues:{email:"",senha:""},validationSchema:R({email:g().email("Email inv\xE1lido").required("Este campo \xE9 obrigat\xF3rio"),senha:g().required("Este campo \xE9 obrigat\xF3rio")}),onSubmit:async y=>{var m,d;try{o(!0);const t=await k.post("/auth/login",y),{token:N,user:l}=t.data;v(null,"token",N,{path:"/"}),t.data&&(l==null?void 0:l.tipoUsuario)==="ADMINISTRADOR_GERAL"?f("/"):h.error("email ou senha incorrecta")}catch(t){h.error((d=(m=t==null?void 0:t.response)==null?void 0:m.data)==null?void 0:d.message)}finally{setTimeout(()=>{o(!1)},4e3)}}});return S(),e(i.exports.Fragment,{children:e("section",{className:"login-content",style:{width:"100%"},children:r(c,{className:"row m-0 align-items-center bg-white",style:{height:"100vh"},children:[r(n,{md:"12",lg:"6",className:"align-self-center",children:[e(u,{to:"/",className:"navbar-brand d-flex align-items-center  justify-content-center text-primary",children:e("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",marginTop:"2rem"},className:"logo-normal",children:e("img",{style:{width:"50%"},src:E})})}),e(c,{className:"justify-content-center pt-5",children:e(n,{md:"10",children:e(p,{className:"card card-transparent shadow-none d-flex justify-content-center mb-0 auth-card",children:r(p.Body,{children:[e("h2",{className:"mb-2 text-center",children:"Entrar"}),e("p",{className:"text-center",children:"Entre para ficar conectado."}),r(s,{onSubmit:a.handleSubmit,children:[r(c,{children:[e(n,{lg:"12",children:r(s.Group,{className:"form-group",children:[e(s.Label,{htmlFor:"email",className:"",children:"Email"}),e(s.Control,{type:"email",className:"",id:"email",name:"email",onChange:a.handleChange,value:a.values.email,"aria-describedby":"email",placeholder:" "}),a.touched.email&&a.errors.email?e("span",{className:"text-danger",children:a.errors.email}):null]})}),e(n,{lg:"12",className:"",children:r(s.Group,{className:"form-group",children:[e(s.Label,{htmlFor:"password",className:"",children:"Senha"}),e(s.Control,{type:"password",className:"",id:"senha",name:"senha",onChange:a.handleChange,value:a.values.senha,"aria-describedby":"password",placeholder:""}),a.touched.senha&&a.errors.senha?e("span",{className:"text-danger",children:a.errors.senha}):null]})}),r(n,{lg:"12",className:"d-flex justify-content-between",children:[r(s.Check,{className:"form-check mb-3",children:[e(s.Check.Input,{type:"checkbox",id:"customCheck1"}),e(s.Check.Label,{htmlFor:"customCheck1",children:"Lembre-me"})]}),e(u,{to:"/auth/recoverpw",children:"Esqueceu a sua senha?"})]})]}),e("div",{className:"d-flex justify-content-center",children:e(I,{type:"submit",variant:"btn btn-primary",disabled:b,children:"Entrar"})})]})]})})})})]}),e(n,{md:"6",className:"d-md-block d-none bg-primary p-0 mt-n1  overflow-hidden",style:{width:"50%",height:"100%"},children:e(j,{className:"Image-fluid gradient-main",alt:"images",src:F})})]})})})});G.displayName="SignIn";export{G as default};
