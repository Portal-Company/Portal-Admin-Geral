import{u as v,c as x,a as y}from"./index.esm.9ad0c25f.js";import{g as C,u as g,r as f,a as F,Q as h,j as a,R as p,b as n,C as o,F as t,c as N,B as S}from"./index.0caedde8.js";const B=()=>{var c,l,d;const r=C();g(`/user/list/${r==null?void 0:r.sub}`);const[j,i]=f.exports.useState(!1),e=v({initialValues:{nome:""},validationSchema:x({nome:y().required("Este campo \xE9 obrigat\xF3rio")}),onSubmit:async b=>{var m,u;try{i(!0),await F.post("/province/post",b)&&(h.success("Provincia cadastrada com sucesso"),e.resetForm())}catch(s){h.error((u=(m=s==null?void 0:s.response)==null?void 0:m.data)==null?void 0:u.message)}finally{setTimeout(()=>{i(!1)},4e3)}}});return a(p,{children:n(o,{children:[a(o.Header,{className:"d-flex justify-content-between",children:a("div",{className:"header-title",children:a("h4",{className:"card-title",children:" Cadastrar Provincia"})})}),a(o.Body,{children:n(t,{onSubmit:e.handleSubmit,encType:"multipart/form-data",children:[a(p,{children:n(N,{md:"6",className:"mb-3",children:[a(t.Label,{md:"6",htmlFor:"validationDefault01",children:"Nome da Provincia"}),a(t.Control,{type:"text",id:"nome",name:"nome",value:e.values.nome,onChange:e.handleChange,required:!0}),((c=e==null?void 0:e.touched)==null?void 0:c.nome)&&((l=e==null?void 0:e.errors)==null?void 0:l.nome)?a("label",{className:"mt-1 text-danger",children:(d=e==null?void 0:e.errors)==null?void 0:d.nome}):null]})}),a(t.Group,{children:a(S,{variant:"btn btn-primary",type:"submit",children:"Cadastrar"})})]})})]})})};export{B as default};
